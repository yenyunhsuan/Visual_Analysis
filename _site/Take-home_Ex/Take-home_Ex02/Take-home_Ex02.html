<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Yen Yun Hsuan">
<meta name="dcterms.date" content="2023-05-28">

<title>Visual Analysis - Take Home Exercise 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="../../site_libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="../../site_libs/vis-9.1.0/vis-network.min.js"></script>
<script src="../../site_libs/visNetwork-binding-2.1.2/visNetwork.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Visual Analysis</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About me</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands on Exercise</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html">
 <span class="dropdown-text">Hands-on Exercise 1 Introduction to Visual Analytics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html">
 <span class="dropdown-text">Hands-on Exercise 2 Designing Graphs to Enlighten</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03.html">
 <span class="dropdown-text">Hands-on Exercise 3 	Interactivity in Visual Analytics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04.html">
 <span class="dropdown-text">Hands-on Exercise 4 Visual Statistical Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html">
 <span class="dropdown-text">Hands-on Exercise 5 Network Data Visualisation and Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex06/Hands-on_Ex06.html">
 <span class="dropdown-text">Hands-on Exercise 6 Visual Multivariate Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex07/Hands-on_Ex07.html">
 <span class="dropdown-text">Hands-on Exercise 7 Time Series Analysis</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">In class Exercise</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-in-class-exercise">    
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex01/In-class_Ex01.html">
 <span class="dropdown-text">In class Exercise Basic ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex03/In-class_Ex03.html">
 <span class="dropdown-text">In class Exercise Tableau public</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex04/In-class_Ex04.html">
 <span class="dropdown-text">In class Exercise QQ plot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex05/In-class_Ex05.html">
 <span class="dropdown-text">In class Exercise Import JSON</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take home Exercise</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html">
 <span class="dropdown-text">Take home Exercise 1 Demographic and spending patterns</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html">
 <span class="dropdown-text">Take home Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html">
 <span class="dropdown-text">Take home Exercise 3</span></a>
  </li>  
    </ul>
  </li>
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Take Home Exercise 2</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Yen Yun Hsuan </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 28, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">Background</a></li>
  <li><a href="#task" id="toc-task" class="nav-link" data-scroll-target="#task">Task</a></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">Data preparation</a>
  <ul class="collapse">
  <li><a href="#installing-and-launching-r-packages" id="toc-installing-and-launching-r-packages" class="nav-link" data-scroll-target="#installing-and-launching-r-packages">Installing and launching R packages</a></li>
  <li><a href="#import-data" id="toc-import-data" class="nav-link" data-scroll-target="#import-data">Import data</a>
  <ul class="collapse">
  <li><a href="#nodes" id="toc-nodes" class="nav-link" data-scroll-target="#nodes">Nodes</a></li>
  <li><a href="#edges" id="toc-edges" class="nav-link" data-scroll-target="#edges">Edges</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#company-with-irregular-temporal-pattern" id="toc-company-with-irregular-temporal-pattern" class="nav-link" data-scroll-target="#company-with-irregular-temporal-pattern">Company with irregular temporal pattern</a>
  <ul class="collapse">
  <li><a href="#temporal-pattern" id="toc-temporal-pattern" class="nav-link" data-scroll-target="#temporal-pattern">Temporal pattern</a></li>
  <li><a href="#pattern-by-year" id="toc-pattern-by-year" class="nav-link" data-scroll-target="#pattern-by-year">Pattern by Year</a></li>
  <li><a href="#interconnection-pattern" id="toc-interconnection-pattern" class="nav-link" data-scroll-target="#interconnection-pattern">Interconnection pattern</a></li>
  </ul></li>
  <li><a href="#high-inout-degree-company" id="toc-high-inout-degree-company" class="nav-link" data-scroll-target="#high-inout-degree-company">High in/out degree company</a>
  <ul class="collapse">
  <li><a href="#temporal-pattern-1" id="toc-temporal-pattern-1" class="nav-link" data-scroll-target="#temporal-pattern-1">Temporal pattern</a></li>
  <li><a href="#business-network" id="toc-business-network" class="nav-link" data-scroll-target="#business-network">Business network</a></li>
  <li><a href="#filter-by-hscode" id="toc-filter-by-hscode" class="nav-link" data-scroll-target="#filter-by-hscode">Filter by hscode</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="background" class="level1">
<h1>Background</h1>
<p>This is <a href="https://vast-challenge.github.io/2023/MC2.html">Mini-Challenge 2</a> of VAST Challenge 2023.</p>
<p>The country of Oceanus has sought FishEye International’s help in identifying companies possibly engaged in illegal, unreported, and unregulated (IUU) fishing.</p>
<p>To facilitate their analysis, FishEye transformed the trade data into a knowledge graph. Using this knowledge graph, they hope to understand business relationships, including finding links that will help them stop IUU fishing and protect marine species that are affected by it. They are now looking for visualizations that provide more <strong>detail about patterns for entities</strong> in the knowledge graph.</p>
</section>
<section id="task" class="level1">
<h1>Task</h1>
<p>FishEye knows from past experience that companies caught fishing illegally will shut down but will then often start up again under a different name. FishEye wants your help to use visual analytics to identify <strong>temporal patterns</strong> for individual entities and between entities in the knowledge graph FishEye created from trade records. Categorize the <strong>types of business relationship patterns</strong> you find. Limit your response to 600 words and 6 images.</p>
</section>
<section id="data-preparation" class="level1">
<h1>Data preparation</h1>
<section id="installing-and-launching-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="installing-and-launching-r-packages">Installing and launching R packages</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(jsonlite, tidygraph, ggraph, visNetwork, lubridate, tidyverse, visNetwork,heatmaply,dply,ggplot2,ggpubr,RColorBrewer, igraph,clock,graphlayouts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="import-data" class="level2">
<h2 class="anchored" data-anchor-id="import-data">Import data</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>MC2 <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/mc2_challenge_graph.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>At the root-level, MC2 is a dictionary with graph-level properties specified as keys.</p>
<p>Below extract data frame from MC2 list as tibble table.</p>
<section id="nodes" class="level3">
<h3 class="anchored" data-anchor-id="nodes">Nodes</h3>
<ul>
<li><p>There are many NA values in shpcountry and rcvcountry columns, and it is hard to fill in those NA values, so exclude these two columns.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>MC2_node <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(MC2<span class="sc">$</span>nodes)  </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(MC2_node))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>shpcountry rcvcountry    dataset         id 
     22359       2909          0          0 </code></pre>
</div>
</div></li>
<li><p>Use select to reorder column sequences, with id column in the first.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>MC2_nodes <span class="ot">&lt;-</span> MC2_node <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,<span class="sc">-</span>shpcountry, <span class="sc">-</span>rcvcountry) </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(MC2_nodes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 34,576
Columns: 1
$ id &lt;chr&gt; "AquaDelight Inc and Son's", "BaringoAmerica Marine Ges.m.b.H.", "Y…</code></pre>
</div>
</div>
</section>
<section id="edges" class="level3">
<h3 class="anchored" data-anchor-id="edges">Edges</h3>
<ul>
<li><p>Examine the missing values and features format in Edge data.</p></li>
<li><p>Use select to drop three “value-” columns with lots of NA, and drop “dataset” which is no need.</p></li>
<li><p>The arrivaldate is treated as “Character” data type instead of date data type. Need to change the data type back to “Date”” data type.</p></li>
<li><p>Create a column Year as factor format since Date is too detailed for analysis</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>MC2_edge <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(MC2<span class="sc">$</span>links) </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(MC2_edge))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     arrivaldate           hscode valueofgoods_omu        volumeteu 
               0                0          5464097           520933 
        weightkg          dataset           source           target 
               0                0                0                0 
 valueofgoodsusd 
         3017844 </code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(MC2_edge)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 5,464,378
Columns: 9
$ arrivaldate      &lt;chr&gt; "2034-02-12", "2034-03-13", "2028-02-07", "2028-02-23…
$ hscode           &lt;chr&gt; "630630", "630630", "470710", "470710", "470710", "47…
$ valueofgoods_omu &lt;dbl&gt; 141015, 141015, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ volumeteu        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ weightkg         &lt;int&gt; 4780, 6125, 10855, 11250, 11165, 11290, 9000, 19490, …
$ dataset          &lt;chr&gt; "MC2", "MC2", "MC2", "MC2", "MC2", "MC2", "MC2", "MC2…
$ source           &lt;chr&gt; "AquaDelight Inc and Son's", "AquaDelight Inc and Son…
$ target           &lt;chr&gt; "BaringoAmerica Marine Ges.m.b.H.", "BaringoAmerica M…
$ valueofgoodsusd  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 87110, 188140, NA, 221110, 58…</code></pre>
</div>
</div>
<p>The organized data frame of edge is as below:</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>MC2_edges <span class="ot">&lt;-</span> MC2_edge<span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrival_date  =</span> <span class="fu">ymd</span>(arrivaldate )) <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Also create a column Year as factor format</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.factor</span>(<span class="fu">year</span>(arrivaldate))) <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, target, arrival_date, Year, hscode, weightkg) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(MC2_edges)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 5,190,407
Columns: 6
$ source       &lt;chr&gt; "AquaDelight Inc and Son's", "AquaDelight Inc and Son's",…
$ target       &lt;chr&gt; "BaringoAmerica Marine Ges.m.b.H.", "BaringoAmerica Marin…
$ arrival_date &lt;date&gt; 2034-02-12, 2034-03-13, 2028-02-07, 2028-02-23, 2028-09-…
$ Year         &lt;fct&gt; 2034, 2034, 2028, 2028, 2028, 2028, 2028, 2028, 2028, 202…
$ hscode       &lt;chr&gt; "630630", "630630", "470710", "470710", "470710", "470710…
$ weightkg     &lt;int&gt; 4780, 6125, 10855, 11250, 11165, 11290, 9000, 19490, 6865…</code></pre>
</div>
</div>
<table class="table">
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Col name</strong></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>arrival_date/Year</td>
<td>Date/Year the shipment arrived at port</td>
</tr>
<tr class="even">
<td>hscode</td>
<td>Harmonized System code (commodity code) for the shipment</td>
</tr>
<tr class="odd">
<td>weightkg</td>
<td>The weight of the shipment in kilograms</td>
</tr>
<tr class="even">
<td>Source/ target</td>
<td>Some shipper(source) and receiver names/countries(target) was anonymized, so some are represented by numerical names.</td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="company-with-irregular-temporal-pattern" class="level1">
<h1>Company with irregular temporal pattern</h1>
<section id="temporal-pattern" class="level2">
<h2 class="anchored" data-anchor-id="temporal-pattern">Temporal pattern</h2>
<p>The edges include records from 2028 to 2034, filter companies with higher numbers of shipment (here is weight &gt; 100) in the first two years 2028 and 2029.</p>
<p>Then by following these steps, we can identify companies with high shipment records in the specified years and evaluate whether there are any anomalies in their temporal patterns.</p>
<ol type="1">
<li><p>Calculate the distinct number of years for each company.</p></li>
<li><p>Determine the maximum and minimum year for each company to calculate the number of periods.</p></li>
<li><p>Filter the companies that have missing records in several years.</p></li>
</ol>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>MC2_edge_high <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2028</span>, <span class="dv">2029</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source,Year) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>(),<span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;</span> <span class="dv">100</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>MC2_edge_abnormal <span class="ot">&lt;-</span> MC2_edges<span class="sc">%&gt;%</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> MC2_edge_high<span class="sc">$</span>source) <span class="sc">%&gt;%</span> </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source) <span class="sc">%&gt;%</span> </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">distinct_year =</span> <span class="fu">n_distinct</span>(Year)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(Year))) <span class="sc">%&gt;%</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source,distinct_year) <span class="sc">%&gt;%</span> </span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">max_year =</span> <span class="fu">max</span>(Year), <span class="at">min_year =</span> <span class="fu">min</span>(Year),<span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">period =</span> max_year<span class="sc">-</span>min_year<span class="sc">+</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(period <span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(period <span class="sc">-</span> distinct_year<span class="sc">&gt;</span><span class="dv">2</span> )</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(MC2_edge_abnormal)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 7
Columns: 5
$ source        &lt;chr&gt; "Asiotr GmbH &amp; Co. KG", "Brisa del Mar GmbH", "Coral del…
$ distinct_year &lt;int&gt; 4, 4, 4, 4, 4, 3, 3
$ max_year      &lt;dbl&gt; 2034, 2034, 2034, 2034, 2034, 2034, 2034
$ min_year      &lt;dbl&gt; 2028, 2028, 2028, 2028, 2028, 2029, 2028
$ period        &lt;dbl&gt; 7, 7, 7, 7, 7, 6, 7</code></pre>
</div>
</div>
<p>Filter only the sources that were identified as abnormal in the previous step, and calculate the Weight and out-degree of each company by year.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># heatmap for weight </span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>MC2_node_abnor <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> MC2_edge_abnormal<span class="sc">$</span>source) <span class="sc">%&gt;%</span>  </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source,Year) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Weight =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(MC2_node_abnor, <span class="fu">aes</span>(Year,source)) <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Weight)) <span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> Weight),<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Irregular pattern by Weight"</span>)<span class="sc">+</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adjust angle to be 45 to avoid overlapping</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>))</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="co"># heatmap for out-degree connections</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>MC2_node_abno <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> MC2_edge_abnormal<span class="sc">$</span>source) <span class="sc">%&gt;%</span>  </span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target,Year) <span class="sc">%&gt;%</span> </span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source,Year) <span class="sc">%&gt;%</span> </span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Weight =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(MC2_node_abno, <span class="fu">aes</span>(Year,source)) <span class="sc">+</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Weight)) <span class="sc">+</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> Weight),<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adjust angle to be 45 to avoid overlapping</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>))<span class="sc">+</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Irregular pattern by Out Degree"</span>)</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(g1, g2, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can observe these companies experienced a peak in the weight of shipments during the years 2028 and 2029. However, there is a substantial gap in their shipment records for several years, and shipments resumed with a significantly lower number of shipments per year.</p>
<p>Furthermore, when examining the number of companies these companies ship out to, it becomes evident that both Omo River and Ocean Explorers have experienced a significant drop in the number of outbound connections to other companies. On the other hand, the remaining companies generally have less than five outbound connections each.</p>
</section>
<section id="pattern-by-year" class="level2">
<h2 class="anchored" data-anchor-id="pattern-by-year">Pattern by Year</h2>
<ul>
<li><p>Filter edges that include the above companies either in target or source, to see the business pattern of these companies.</p></li>
<li><p>Filter node data to ensure that the nodes include only the source and target values in MC2_edge_irregular .</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>MC2_edge_irregular <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> MC2_node_abnor<span class="sc">$</span>source <span class="sc">|</span> target <span class="sc">%in%</span> MC2_node_abnor<span class="sc">$</span>source) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source,target,Year,hscode) <span class="sc">%&gt;%</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Weight =</span> <span class="fu">n</span>(),<span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> source) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">to =</span> target) </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>id1 <span class="ot">&lt;-</span> MC2_edge_irregular <span class="sc">%&gt;%</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(from) <span class="sc">%&gt;%</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> from)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>id2 <span class="ot">&lt;-</span> MC2_edge_irregular <span class="sc">%&gt;%</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(to) <span class="sc">%&gt;%</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> to)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>MC2_node_abnormal <span class="ot">&lt;-</span> <span class="fu">rbind</span>(id1, id2) <span class="sc">%&gt;%</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>MC2_graph_abnormal <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(<span class="at">nodes =</span> MC2_node_abnormal,</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>                       <span class="at">edges =</span> MC2_edge_irregular,</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>                       <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>MC2_graph_abnormal</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tbl_graph: 150 nodes and 373 edges
#
# A directed acyclic multigraph with 1 component
#
# A tibble: 150 × 1
  id                                                
  &lt;chr&gt;                                             
1 Ancla Marina &amp; Ltd. Liability Co Distribution     
2 Andhra Pradesh   Limited Liability Company Tilapia
3 AquaFresh Foods Sp Nori                           
4 Arena del Sol Corporation                         
5 Asiotr GmbH &amp; Co. KG                              
6 Belgian Lobster AG Shoal                          
# ℹ 144 more rows
#
# A tibble: 373 × 5
   from    to Year  hscode Weight
  &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;chr&gt;   &lt;int&gt;
1     1     5 2028  843139     15
2     1     5 2029  843139      9
3     1     5 2029  843149      4
# ℹ 370 more rows</code></pre>
</div>
</div>
<p>In 2028 and 2029, the companies exhibit a dense network of interconnected relationships. However, this connectivity is disrupted from 2029, only remain connections within small clusters. We can also see that the network connection patterns are very different in each year.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(MC2_graph_abnormal,</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">layout =</span> <span class="st">"fr"</span>) <span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>()) <span class="sc">+</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(),<span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_edges</span>(<span class="sc">~</span>Year)<span class="sc">+</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Pattern by Year"</span>)<span class="sc">+</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="interconnection-pattern" class="level2">
<h2 class="anchored" data-anchor-id="interconnection-pattern">Interconnection pattern</h2>
<ul>
<li><p>Add a new column of width in edge data, which takes log to reduce the range of values, and then square the result to amplify the edges with higher weight.</p></li>
<li><p>Group nodes into “irregular” that without records for several years, and “others” that have business relationships with those irregular companies.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>MC2_edge_irregular <span class="ot">&lt;-</span> MC2_edge_irregular <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">width =</span> <span class="fu">log</span>((Weight))<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> MC2_node_abnormal <span class="sc">%&gt;%</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">ifelse</span>(id <span class="sc">%in%</span> MC2_node_abnor<span class="sc">$</span>source, <span class="st">"irregular"</span>, <span class="st">"other"</span>))</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(nodes, MC2_edge_irregular, <span class="at">main =</span> <span class="st">"Overall Business pattern"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>, </span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">smooth =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span>, </span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>                         <span class="at">type =</span> <span class="st">"curvedCW"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname=</span><span class="st">"irregular"</span>, <span class="at">color=</span><span class="st">"orange"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname=</span><span class="st">"other"</span>, <span class="at">color=</span><span class="st">"green"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,<span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">selectedBy=</span><span class="st">"group"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-5836ff9efe7bc49a04e6" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-5836ff9efe7bc49a04e6">{"x":{"nodes":{"id":["Ancla Marina & Ltd. Liability Co Distribution","Andhra Pradesh   Limited Liability Company Tilapia","AquaFresh Foods Sp Nori","Arena del Sol Corporation","Asiotr GmbH & Co. KG","Belgian Lobster AG Shoal","Big Sulphur  S.A. de C.V.","Brisa del Mar GmbH","Calder Swordfish Company Line","Caspian Sea   CJSC Logistics","Chhattisgarh   Marine ecology A/S Delivery","Chuan gou  AG Tuna","Coral del Sur Sagl Family","Doris and AB Brothers","Dry Creek BV Harbor","Edward ОАО Marine life","Estrella de la Costa Limited Liability Company","Estrella de la Costa Ltd","Estrella del Sol LLC","FinestSea Ltd. Corporation Enterprises","Forwading S.A. de C.V.","Isla del Mar Ltd. Liability Co Enterprises","Jammu & Kashmir  AB Consultants","Kalahari  N.V. Charter Boat ","Lake Nakuru  Marine Flounder","Lake Tana  N.V. Enterprises","Manipur  Market CJSC Marine ecology","Mar de la Vida Company","Mar del Golfo Forwading Sailor","Mar del Paraíso ОАО Marina","Matuku Ltd. Liability Co Forwading","Norwegian Fjord  Ltd Consulting","Ocean Explorers GmbH & Co. KG Cargo","Omo River  N.V. Carriers","Pao gan S.A. de C.V.","SeaTrekker GmbH & Co. KG Solutions","Seashell Sanctum SRL Transport","Shou gan  AS Cargo","Thoho Limited Liability Company","Uttar Pradesh s Sagl Carriers","West Bengal  S.A. de C.V.","Wise Ltd. Liability Co Abalone","qīng yú Ltd. Corporation","-107","-637","Brisa del Este BV","Caracola del Sol Services","Maharashtra  Ltd. Liability Co Shipping","Mar del Este CJSC","SaltwaterSupplies Company Marine life","SeaSpray Marine biology Ltd Distribution","páng xiè S.A. de C.V. Line","-1722","-1737","-18","AguaLeska Transit N.V.","Ancla de Oro Kga Import","Marine Mates NV Worldwide","Playa de Arena Submarine S.A. de C.V. Marine","-300","-5733","Black Sea Tuna Sagl","Coral Cove BV Delivery","Kong zhong diao yu  Ges.m.b.H.","Olas del Sur Ltd","Saltwater Supreme ОАО Forwading","Uttarakhand  Market Limited Liability Company Nautical","Yu xian  SRL Industrial","hǎi dǎn Corporation Wharf","-1430","-1545","4 N.V. Marine biology","Adriatic Tuna Seabass BV Transit","Arunachal Pradesh s Brine","Arunachal Pradesh s Ltd. Corporation Coast","Bahía de Coral BV Merchants","Belgian Cod BV Solutions","Belgian Scallop Compass Limited Liability Company Line","Caracola Azul Ltd. Corporation","Congo Rapids   Ltd. Corporation","David Ltd. Liability Co Forwading","French Hake Limited Liability Company Consulting","Gujarat  S.A. de C.V.","Henan Incorporated & Son's","Italian Sardines Ltd. Corporation","Madagascar Coast  AG Freight ","Maharashtra ers S.A. de C.V.","Mar de Cielo Ltd. Corporation","Mar de la Felicidad OJSC","Mar del Paraíso Limited Liability Company Transport","Mar del Paraíso Port","Mediterranean s Sagl Logistics","Norwegian King Crab Transport","Pao gan SE Seal","Punjab Sea  CJSC Estuary","Rajasthan  Marine sanctuary Underwater","Sea Breeze Sagl Oceanfront","Turkish Sword S.A. de C.V. Trout","West Bengal  Marine ecology","Yu gan  Sea spray GmbH Industrial","suō yú Line Manatee","-1505","-6310","Agua S.A. de C.V. Overseas","Albertine Rift  Sagl Marine sanctuary","Angrapa Ltd. Liability Co Export","AquaFare S.A. de C.V. Marine","Bahía Dorada S.A. de C.V.","Balkan Cat Limited Liability Company","Bay of Bengal's Surfboard","Belgian Shrimps - Company Brothers","Black Sea Tuna AB Freight ","Cape of Good Hope   Company","Caracola Azul Oyj &","Caracola de Coral GmbH & Co. KG Cargo ","Congo Rapids   S.A. de C.V.","Costa de la Felicidad Shipping","French  Deep-sea N.V. Line","Irish Scallop - Corporation & Son's","Jharkhand Sea  United Jetsam","Kafue River  Seagrass Limited Liability Company Marine","Konkan Coast  SE Marine biology","Liyu  Tilapia Ltd Cargo","Madhya Pradesh  Market Pic Forwading","Maharashtra ers Seaport AG Marine conservation","Malawi Rift   Sailboat Oyj Transit","Mandalore S.A. de C.V. Logistics","Mar del Golfo Trout","OceanGem Limited Liability Company Carriers","Océano de Coral Corporation Express","Olas del Mar Cargo ship","Olas del Mar LLC","Pao gan LC Freight ","Perla del Mar SRL","Rift Valley fishery Inc","Sailors and Surfers Incorporated Enterprises","Saltwater Supreme Ltd. Corporation","Saltwater Supreme Pelican Ltd Enterprises","Selkie Ltd. Liability Co","Sikkim   Ltd. Corporation Lighthouse","Tana River  Seagull Co Shipping","The Sea Lion S.A. de C.V. Carriers","Tripura  Market NV Marine","Uttarakhand s Corp Transport","Water Wonders Inc Marine ecology","jīn qiāng yú AG Oceanography","lú yú Company Enterprises","lú yú Ltd. Corporation","Gvardeysk Ltd. Liability Co","Mar de Plata BV Marine"],"group":["other","other","other","other","irregular","other","other","irregular","other","other","other","other","irregular","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","irregular","irregular","other","other","other","other","other","other","other","irregular","irregular","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other","other"],"x":[-0.663845609701303,-0.812764361900809,-0.683385721214275,0.204771728680633,-0.530221537968307,0.713087764418542,0.772681857818775,-0.60869956388375,-0.443107662440539,0.363794012729341,0.23606635390304,-0.53045504453819,0.407811411216991,-0.561967585266404,0.522188504276475,0.522523915927802,-0.891795408646267,0.58166685535001,-0.437852939906908,-0.60933830965364,0.716937905650755,0.500196729774231,-0.702129312341932,0.295318762464874,0.410726680819332,-0.622601963757445,-0.605801486963929,0.818280258326563,-0.877775642398838,0.833843981569111,0.765450081577745,0.154555360208546,0.543407716829848,-0.527017003389263,0.539402887288351,0.633321958767308,0.0159124062922094,-0.537045419064186,-0.635842023199616,-0.867836626450109,0.47248886159835,0.151509628406997,0.372754739144116,-0.884937989720659,-0.75175423595606,-0.513968459009308,-0.402052211736577,-0.727670662936592,0.277025867019991,-0.893537121004618,-0.750049827589137,-0.603791946945943,-0.518949277758133,-0.732060531862565,-0.461902682782346,-0.604845558805653,-0.937190534025207,-0.800749914678262,-0.723211191110953,0.632730629812376,0.788742998805652,0.59026927216614,0.153614240001397,0.495186313171894,0.628562406243978,0.175733227457368,0.638638767916909,0.428061830731788,0.054803258875409,0.586732465025446,0.879727530189148,0.877145180488457,0.664513681360739,-0.0903673249278657,0.538782056819026,0.948459571739003,1,0.380132532757378,0.864650334325778,0.730520768631817,0.946089444781863,0.913856140302069,0.510851312864631,0.974905265757646,0.995374390823768,0.652142873982943,0.734616488452807,0.433484041789831,0.646624230741415,0.813585442164584,0.914880109585194,0.428554509673145,0.500374402647992,0.745667644297679,0.710992041047498,0.788623291602363,0.594777811149775,0.851411620370676,0.903606039656255,0.752447446139131,0.625439703058985,-0.831674041552068,-0.959545839337711,-0.497827858075204,-0.685356872982122,-0.523016929183233,-1,-0.766478202576681,-0.513893971548983,-0.74023618779372,-0.704068722486682,-0.633128390430822,-0.916785956844048,-0.630976228987962,-0.685421387448669,-0.370602847751296,-0.972069599277953,-0.834999475913449,-0.599057979823087,-0.760189862353265,-0.773785269584869,-0.422787687022729,-0.401731380676136,-0.849173491046143,-0.894307928610347,-0.981365652248417,-0.771352313109213,-0.6753747958271,-0.345617737032916,-0.52711906715404,-0.844892088312222,-0.680812878911381,-0.814087407947905,-0.612699232080675,-0.651942386120282,-0.172071117752655,-0.533250711631146,-0.909580636717134,-0.448102286649515,-0.528587688038185,-0.875164915898546,-0.798338855174599,-0.927418683213416,-0.432687698988988,-0.828393669992278,-0.905774967014258,-0.348746488978501,-0.968563209683372,0.193542991869789,0.490731187242751],"y":[-0.382495890414056,-0.540269532158206,-0.753470153538472,1,-0.374502691889079,0.594169294599276,0.550826175398051,-0.687328670057785,-0.480496469541705,0.455660623990114,0.621910278149159,-0.404383601481425,0.346669759688077,-0.768487053297027,0.376816516108363,0.312842940889729,-0.392308030846702,0.468991566367339,0.827015659666077,-0.9992151510434,0.504601023309901,0.452734613452522,-1,0.982702294035456,0.283000352361773,-0.77419683042899,0.75125138674606,0.487041163395965,-0.873926007510653,0.403614028939948,0.435609170526197,0.774811086190283,-0.0304938048824641,0.497987296745938,0.624191298371529,0.405067272512473,0.681891830041472,-0.488689699406513,-0.465387521879579,-0.930046547797695,0.524998826750956,0.698636643538883,0.819995911139492,-0.519564991202474,-0.585512201312495,-0.567429342759307,-0.132291960406769,-0.453043260414987,0.0295301536510841,-0.457047545115727,-0.368261786841674,-0.557386495571302,-0.980633405728358,-0.939241600748165,-0.928113130975731,-0.936651267557069,-0.832827788624194,-0.966990711460804,-0.843823401308819,0.630671917079664,0.344245530229093,0.166570198915454,0.300220254024294,0.144411757392753,0.567971116172913,0.552816124690055,0.33367253780429,0.425366430032277,0.256836120575486,-0.345994272943612,-0.276536175037212,0.0315333742492043,-0.352333968198585,0.266248211060667,-0.275895414494856,-0.161894529376071,-0.0408252669106809,-0.236285916671458,-0.214130615719248,-0.272478598010146,-0.221045677788667,-0.0292813799038685,-0.166183691207832,0.0303914886497496,-0.114206046617509,-0.0239505036965489,0.0237370455770467,-0.290264499378962,-0.277848042799707,-0.307050953959692,-0.0905379549631269,-0.128674657853215,-0.339040807954198,-0.340899502389425,-0.120821089979956,-0.222522742609917,-0.105804573022066,-0.139975082035627,0.0901865694043871,-0.0511187378144571,-0.173041604864971,0.633753609690021,0.590212474441221,0.723374249594282,0.477310263603021,0.790881424039217,0.488333475175534,0.813900605975217,0.625091737823407,0.258410088185073,0.322464167790062,0.259995909118711,0.709600352688289,0.409746571300432,0.801978868958467,0.48762143504006,0.659869872527731,0.493727856865834,0.826934214635943,0.749778776945651,0.593477983965723,0.762738168734588,0.603778923793284,0.726456458571445,0.395428180430519,0.543523444197132,0.683978412186519,0.858823400952975,0.692057288819492,0.853423532561415,0.784273714574878,0.719497733153901,0.424457565097173,0.61719582840756,0.553162910341944,0.666482334501845,0.372120638279658,0.334601654366937,0.542075471327333,0.275201140574401,0.546993257415233,0.353613123534118,0.472269279445974,0.402790499614373,0.291897848194875,0.633071161437762,0.768576817966335,0.411424371089575,0.757323561599983,0.97568804522014],"label":["Ancla Marina & Ltd. Liability Co Distribution","Andhra Pradesh   Limited Liability Company Tilapia","AquaFresh Foods Sp Nori","Arena del Sol Corporation","Asiotr GmbH & Co. KG","Belgian Lobster AG Shoal","Big Sulphur  S.A. de C.V.","Brisa del Mar GmbH","Calder Swordfish Company Line","Caspian Sea   CJSC Logistics","Chhattisgarh   Marine ecology A/S Delivery","Chuan gou  AG Tuna","Coral del Sur Sagl Family","Doris and AB Brothers","Dry Creek BV Harbor","Edward ОАО Marine life","Estrella de la Costa Limited Liability Company","Estrella de la Costa Ltd","Estrella del Sol LLC","FinestSea Ltd. Corporation Enterprises","Forwading S.A. de C.V.","Isla del Mar Ltd. Liability Co Enterprises","Jammu & Kashmir  AB Consultants","Kalahari  N.V. Charter Boat ","Lake Nakuru  Marine Flounder","Lake Tana  N.V. Enterprises","Manipur  Market CJSC Marine ecology","Mar de la Vida Company","Mar del Golfo Forwading Sailor","Mar del Paraíso ОАО Marina","Matuku Ltd. Liability Co Forwading","Norwegian Fjord  Ltd Consulting","Ocean Explorers GmbH & Co. KG Cargo","Omo River  N.V. Carriers","Pao gan S.A. de C.V.","SeaTrekker GmbH & Co. KG Solutions","Seashell Sanctum SRL Transport","Shou gan  AS Cargo","Thoho Limited Liability Company","Uttar Pradesh s Sagl Carriers","West Bengal  S.A. de C.V.","Wise Ltd. Liability Co Abalone","qīng yú Ltd. Corporation","-107","-637","Brisa del Este BV","Caracola del Sol Services","Maharashtra  Ltd. Liability Co Shipping","Mar del Este CJSC","SaltwaterSupplies Company Marine life","SeaSpray Marine biology Ltd Distribution","páng xiè S.A. de C.V. Line","-1722","-1737","-18","AguaLeska Transit N.V.","Ancla de Oro Kga Import","Marine Mates NV Worldwide","Playa de Arena Submarine S.A. de C.V. Marine","-300","-5733","Black Sea Tuna Sagl","Coral Cove BV Delivery","Kong zhong diao yu  Ges.m.b.H.","Olas del Sur Ltd","Saltwater Supreme ОАО Forwading","Uttarakhand  Market Limited Liability Company Nautical","Yu xian  SRL Industrial","hǎi dǎn Corporation Wharf","-1430","-1545","4 N.V. Marine biology","Adriatic Tuna Seabass BV Transit","Arunachal Pradesh s Brine","Arunachal Pradesh s Ltd. Corporation Coast","Bahía de Coral BV Merchants","Belgian Cod BV Solutions","Belgian Scallop Compass Limited Liability Company Line","Caracola Azul Ltd. Corporation","Congo Rapids   Ltd. Corporation","David Ltd. Liability Co Forwading","French Hake Limited Liability Company Consulting","Gujarat  S.A. de C.V.","Henan Incorporated & Son's","Italian Sardines Ltd. Corporation","Madagascar Coast  AG Freight ","Maharashtra ers S.A. de C.V.","Mar de Cielo Ltd. Corporation","Mar de la Felicidad OJSC","Mar del Paraíso Limited Liability Company Transport","Mar del Paraíso Port","Mediterranean s Sagl Logistics","Norwegian King Crab Transport","Pao gan SE Seal","Punjab Sea  CJSC Estuary","Rajasthan  Marine sanctuary Underwater","Sea Breeze Sagl Oceanfront","Turkish Sword S.A. de C.V. Trout","West Bengal  Marine ecology","Yu gan  Sea spray GmbH Industrial","suō yú Line Manatee","-1505","-6310","Agua S.A. de C.V. Overseas","Albertine Rift  Sagl Marine sanctuary","Angrapa Ltd. Liability Co Export","AquaFare S.A. de C.V. Marine","Bahía Dorada S.A. de C.V.","Balkan Cat Limited Liability Company","Bay of Bengal's Surfboard","Belgian Shrimps - Company Brothers","Black Sea Tuna AB Freight ","Cape of Good Hope   Company","Caracola Azul Oyj &","Caracola de Coral GmbH & Co. KG Cargo ","Congo Rapids   S.A. de C.V.","Costa de la Felicidad Shipping","French  Deep-sea N.V. Line","Irish Scallop - Corporation & Son's","Jharkhand Sea  United Jetsam","Kafue River  Seagrass Limited Liability Company Marine","Konkan Coast  SE Marine biology","Liyu  Tilapia Ltd Cargo","Madhya Pradesh  Market Pic Forwading","Maharashtra ers Seaport AG Marine conservation","Malawi Rift   Sailboat Oyj Transit","Mandalore S.A. de C.V. Logistics","Mar del Golfo Trout","OceanGem Limited Liability Company Carriers","Océano de Coral Corporation Express","Olas del Mar Cargo ship","Olas del Mar LLC","Pao gan LC Freight ","Perla del Mar SRL","Rift Valley fishery Inc","Sailors and Surfers Incorporated Enterprises","Saltwater Supreme Ltd. Corporation","Saltwater Supreme Pelican Ltd Enterprises","Selkie Ltd. Liability Co","Sikkim   Ltd. Corporation Lighthouse","Tana River  Seagull Co Shipping","The Sea Lion S.A. de C.V. Carriers","Tripura  Market NV Marine","Uttarakhand s Corp Transport","Water Wonders Inc Marine ecology","jīn qiāng yú AG Oceanography","lú yú Company Enterprises","lú yú Ltd. Corporation","Gvardeysk Ltd. Liability Co","Mar de Plata BV Marine"]},"edges":{"from":["Ancla Marina & Ltd. Liability Co Distribution","Ancla Marina & Ltd. Liability Co Distribution","Ancla Marina & Ltd. Liability Co Distribution","Andhra Pradesh   Limited Liability Company Tilapia","AquaFresh Foods Sp Nori","AquaFresh Foods Sp Nori","AquaFresh Foods Sp Nori","AquaFresh Foods Sp Nori","AquaFresh Foods Sp Nori","AquaFresh Foods Sp Nori","AquaFresh Foods Sp Nori","Arena del Sol Corporation","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Belgian Lobster AG Shoal","Big Sulphur  S.A. de C.V.","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Calder Swordfish Company Line","Calder Swordfish Company Line","Calder Swordfish Company Line","Caspian Sea   CJSC Logistics","Caspian Sea   CJSC Logistics","Caspian Sea   CJSC Logistics","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Chuan gou  AG Tuna","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Doris and AB Brothers","Doris and AB Brothers","Doris and AB Brothers","Doris and AB Brothers","Doris and AB Brothers","Doris and AB Brothers","Doris and AB Brothers","Doris and AB Brothers","Dry Creek BV Harbor","Dry Creek BV Harbor","Dry Creek BV Harbor","Dry Creek BV Harbor","Edward ОАО Marine life","Edward ОАО Marine life","Edward ОАО Marine life","Edward ОАО Marine life","Estrella de la Costa Limited Liability Company","Estrella de la Costa Ltd","Estrella de la Costa Ltd","Estrella del Sol LLC","FinestSea Ltd. Corporation Enterprises","Forwading S.A. de C.V.","Isla del Mar Ltd. Liability Co Enterprises","Isla del Mar Ltd. Liability Co Enterprises","Isla del Mar Ltd. Liability Co Enterprises","Jammu & Kashmir  AB Consultants","Kalahari  N.V. Charter Boat ","Lake Nakuru  Marine Flounder","Lake Nakuru  Marine Flounder","Lake Nakuru  Marine Flounder","Lake Nakuru  Marine Flounder","Lake Nakuru  Marine Flounder","Lake Tana  N.V. Enterprises","Lake Tana  N.V. Enterprises","Lake Tana  N.V. Enterprises","Lake Tana  N.V. Enterprises","Lake Tana  N.V. Enterprises","Lake Tana  N.V. Enterprises","Lake Tana  N.V. Enterprises","Lake Tana  N.V. Enterprises","Manipur  Market CJSC Marine ecology","Mar de la Vida Company","Mar del Golfo Forwading Sailor","Mar del Paraíso ОАО Marina","Matuku Ltd. Liability Co Forwading","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Norwegian Fjord  Ltd Consulting","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Ocean Explorers GmbH & Co. KG Cargo","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Omo River  N.V. Carriers","Pao gan S.A. de C.V.","SeaTrekker GmbH & Co. KG Solutions","SeaTrekker GmbH & Co. KG Solutions","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Seashell Sanctum SRL Transport","Shou gan  AS Cargo","Shou gan  AS Cargo","Shou gan  AS Cargo","Thoho Limited Liability Company","Thoho Limited Liability Company","Thoho Limited Liability Company","Uttar Pradesh s Sagl Carriers","West Bengal  S.A. de C.V.","West Bengal  S.A. de C.V.","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","qīng yú Ltd. Corporation","qīng yú Ltd. Corporation","qīng yú Ltd. Corporation","qīng yú Ltd. Corporation","qīng yú Ltd. Corporation"],"to":["Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Wise Ltd. Liability Co Abalone","-107","-637","Brisa del Este BV","Brisa del Este BV","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Maharashtra  Ltd. Liability Co Shipping","Maharashtra  Ltd. Liability Co Shipping","Mar del Este CJSC","SaltwaterSupplies Company Marine life","SeaSpray Marine biology Ltd Distribution","SeaSpray Marine biology Ltd Distribution","páng xiè S.A. de C.V. Line","páng xiè S.A. de C.V. Line","Coral del Sur Sagl Family","Coral del Sur Sagl Family","-1722","-1737","-18","AguaLeska Transit N.V.","Ancla de Oro Kga Import","Brisa del Este BV","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Marine Mates NV Worldwide","Playa de Arena Submarine S.A. de C.V. Marine","Playa de Arena Submarine S.A. de C.V. Marine","páng xiè S.A. de C.V. Line","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","-300","-5733","Black Sea Tuna Sagl","Caracola del Sol Services","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Kong zhong diao yu  Ges.m.b.H.","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Olas del Sur Ltd","Saltwater Supreme ОАО Forwading","Uttarakhand  Market Limited Liability Company Nautical","Uttarakhand  Market Limited Liability Company Nautical","Yu xian  SRL Industrial","Yu xian  SRL Industrial","Yu xian  SRL Industrial","Yu xian  SRL Industrial","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Asiotr GmbH & Co. KG","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Omo River  N.V. Carriers","Brisa del Mar GmbH","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Brisa del Mar GmbH","Wise Ltd. Liability Co Abalone","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Brisa del Mar GmbH","Omo River  N.V. Carriers","Coral del Sur Sagl Family","Brisa del Mar GmbH","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","-1430","-1545","4 N.V. Marine biology","Adriatic Tuna Seabass BV Transit","Arunachal Pradesh s Brine","Arunachal Pradesh s Ltd. Corporation Coast","Bahía de Coral BV Merchants","Belgian Cod BV Solutions","Belgian Scallop Compass Limited Liability Company Line","Black Sea Tuna Sagl","Caracola Azul Ltd. Corporation","Congo Rapids   Ltd. Corporation","Coral Cove BV Delivery","David Ltd. Liability Co Forwading","French Hake Limited Liability Company Consulting","Gujarat  S.A. de C.V.","Gujarat  S.A. de C.V.","Henan Incorporated & Son's","Italian Sardines Ltd. Corporation","Kong zhong diao yu  Ges.m.b.H.","Madagascar Coast  AG Freight ","Madagascar Coast  AG Freight ","Madagascar Coast  AG Freight ","Maharashtra ers S.A. de C.V.","Maharashtra ers S.A. de C.V.","Mar de Cielo Ltd. Corporation","Mar de la Felicidad OJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Paraíso Limited Liability Company Transport","Mar del Paraíso Port","Mediterranean s Sagl Logistics","Mediterranean s Sagl Logistics","Norwegian King Crab Transport","Pao gan SE Seal","Punjab Sea  CJSC Estuary","Punjab Sea  CJSC Estuary","Rajasthan  Marine sanctuary Underwater","Saltwater Supreme ОАО Forwading","Sea Breeze Sagl Oceanfront","Sea Breeze Sagl Oceanfront","Sea Breeze Sagl Oceanfront","Turkish Sword S.A. de C.V. Trout","West Bengal  Marine ecology","Yu gan  Sea spray GmbH Industrial","Yu gan  Sea spray GmbH Industrial","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","suō yú Line Manatee","suō yú Line Manatee","-1505","-6310","Agua S.A. de C.V. Overseas","Albertine Rift  Sagl Marine sanctuary","Albertine Rift  Sagl Marine sanctuary","Angrapa Ltd. Liability Co Export","AquaFare S.A. de C.V. Marine","Arunachal Pradesh s Brine","Arunachal Pradesh s Brine","Bahía Dorada S.A. de C.V.","Balkan Cat Limited Liability Company","Balkan Cat Limited Liability Company","Bay of Bengal's Surfboard","Belgian Shrimps - Company Brothers","Black Sea Tuna AB Freight ","Cape of Good Hope   Company","Caracola Azul Oyj &","Caracola Azul Oyj &","Caracola de Coral GmbH & Co. KG Cargo ","Caracola del Sol Services","Caracola del Sol Services","Congo Rapids   S.A. de C.V.","Congo Rapids   S.A. de C.V.","Coral Cove BV Delivery","Costa de la Felicidad Shipping","French  Deep-sea N.V. Line","Irish Scallop - Corporation & Son's","Jharkhand Sea  United Jetsam","Kafue River  Seagrass Limited Liability Company Marine","Konkan Coast  SE Marine biology","Liyu  Tilapia Ltd Cargo","Liyu  Tilapia Ltd Cargo","Madhya Pradesh  Market Pic Forwading","Maharashtra ers Seaport AG Marine conservation","Malawi Rift   Sailboat Oyj Transit","Mandalore S.A. de C.V. Logistics","Mar del Golfo Trout","OceanGem Limited Liability Company Carriers","Océano de Coral Corporation Express","Olas del Mar Cargo ship","Olas del Mar LLC","Pao gan LC Freight ","Perla del Mar SRL","Perla del Mar SRL","Rift Valley fishery Inc","Rift Valley fishery Inc","Sailors and Surfers Incorporated Enterprises","Saltwater Supreme Ltd. Corporation","Saltwater Supreme Ltd. Corporation","Saltwater Supreme Pelican Ltd Enterprises","Saltwater Supreme ОАО Forwading","Seashell Sanctum SRL Transport","Selkie Ltd. Liability Co","Selkie Ltd. Liability Co","Selkie Ltd. Liability Co","Sikkim   Ltd. Corporation Lighthouse","Tana River  Seagull Co Shipping","The Sea Lion S.A. de C.V. Carriers","Tripura  Market NV Marine","Uttarakhand s Corp Transport","Uttarakhand s Corp Transport","Water Wonders Inc Marine ecology","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","jīn qiāng yú AG Oceanography","lú yú Company Enterprises","lú yú Ltd. Corporation","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Wise Ltd. Liability Co Abalone","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Asiotr GmbH & Co. KG","Brisa del Mar GmbH","Coral del Sur Sagl Family","Coral del Sur Sagl Family","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Gvardeysk Ltd. Liability Co","Sailors and Surfers Incorporated Enterprises","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Mar de Plata BV Marine","Mar de Plata BV Marine","Mar de Plata BV Marine","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading"],"Year":["2028","2029","2029","2031","2033","2033","2033","2033","2033","2033","2033","2028","2034","2033","2028","2029","2033","2033","2034","2028","2034","2028","2028","2033","2034","2033","2034","2029","2030","2028","2028","2028","2034","2028","2028","2028","2030","2031","2028","2030","2031","2028","2031","2031","2031","2032","2032","2034","2028","2028","2029","2030","2030","2030","2030","2030","2031","2031","2031","2032","2032","2032","2032","2032","2032","2028","2028","2028","2028","2028","2028","2028","2028","2028","2028","2028","2028","2028","2028","2029","2029","2029","2029","2029","2030","2030","2030","2030","2030","2030","2031","2031","2031","2031","2031","2031","2031","2031","2031","2034","2028","2034","2028","2029","2029","2030","2030","2028","2028","2028","2034","2034","2034","2034","2034","2034","2028","2029","2029","2030","2029","2029","2028","2029","2029","2029","2030","2030","2031","2032","2031","2033","2033","2034","2030","2030","2031","2033","2029","2034","2034","2034","2030","2031","2028","2030","2031","2029","2033","2030","2031","2031","2031","2034","2028","2028","2028","2029","2029","2029","2032","2033","2029","2030","2028","2032","2030","2032","2032","2032","2032","2032","2033","2033","2033","2033","2033","2033","2033","2033","2034","2034","2034","2034","2029","2029","2034","2028","2028","2029","2028","2029","2029","2028","2028","2028","2028","2028","2028","2028","2028","2029","2028","2028","2028","2029","2033","2028","2029","2028","2029","2028","2028","2028","2028","2028","2029","2029","2029","2029","2028","2028","2029","2029","2029","2028","2029","2028","2029","2028","2029","2029","2028","2029","2029","2029","2028","2029","2029","2028","2028","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2033","2034","2029","2029","2029","2029","2029","2029","2029","2028","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2029","2031","2028","2030","2031","2031","2031","2031","2031","2031","2031","2032","2032","2032","2032","2032","2032","2032","2032","2032","2033","2034","2034","2029","2029","2030","2030","2030","2031","2029","2029","2029","2029","2029","2029","2029","2029","2030","2030","2030","2030","2030","2030","2030","2030","2030","2030","2029","2029","2029","2029","2030","2030","2030","2030","2034","2034","2034","2034","2034","2028","2028","2028","2032","2034"],"hscode":["843139","843139","843149","847330","732111","842211","850811","940179","940350","940360","950691","404100","304620","304620","304620","304620","304610","304620","304620","304620","304620","304620","304620","304620","304620","304620","304620","303890","304610","304620","304620","304620","302440","304620","304620","304620","304620","304620","304620","304620","304620","304620","840999","860791","870830","200599","710800","710800","841290","847330","391000","292910","382510","391000","841290","842490","292910","481013","841290","151800","731100","840991","840999","841290","940161","721550","721923","721933","722830","730661","730890","841391","843120","848299","870850","870899","940161","940360","940389","730890","760612","842123","940360","940389","390422","730890","843149","870880","940360","940389","722840","730890","731210","731815","760612","848299","850300","940360","940389","160510","306170","160510","306170","160521","306170","160521","306170","160510","160521","306170","160510","307490","306140","306140","160510","306140","306170","160521","306170","306170","160521","306170","291823","291823","291899","292144","291823","292144","292144","292144","710800","200599","710800","710800","160420","710800","710800","710800","307490","200899","811900","640299","841981","303690","160414","160414","160414","291570","842410","710300","710220","710300","710800","710800","292149","293319","841899","292149","292429","293319","291739","291739","570242","710800","392690","160551","200599","280300","280421","847982","847989","902790","280421","290545","291612","731100","841490","841940","848690","850811","280300","280440","731100","850811","304720","304720","304710","304610","304810","304890","304720","304720","304720","304710","304720","304720","306140","304720","304720","304720","620462","304720","304720","304720","304720","304720","304720","304720","304720","304750","304720","304710","304720","304750","304790","304950","304710","304720","304830","304720","304720","304720","304720","304720","304720","160510","160510","304750","304720","304720","304720","304790","304720","304720","202300","304710","304720","304720","304790","304720","304750","950490","950300","950300","950300","950490","950300","950300","950300","950490","950300","950300","950490","490199","950300","950300","950300","950300","950490","950490","350610","950300","350610","950300","950300","490199","950300","950300","950300","950300","950300","950300","950490","950300","950300","950300","950490","950300","950300","950490","950490","950490","950300","950300","950490","950300","950490","950300","491199","950490","950300","950300","950490","950300","950490","960330","950300","950300","950300","950300","950300","950490","950300","490199","950300","950490","950300","950300","950300","306170","110100","110220","291612","292221","320611","702000","732182","732290","842410","280440","285000","290339","292221","392310","702000","731100","870310","901920","304740","304710","304740","850300","870899","850300","401699","100850","100850","610821","610822","610910","621210","732393","761510","940360","950691","160521","610462","610822","611020","630260","732393","761510","900490","950629","732393","731100","732393","761510","950629","731100","732393","761510","950629","430390","761510","940320","940530","950629","304610","306160","306170","306170","160521"],"Weight":[15,9,4,2,1,1,1,1,1,1,2,1,2,2,254,4,2,34,162,58,2,2,14,3,3,2,15,1,1,2,2,2,1,2,96,16,2,2,2,4,3,2,2,1,1,1,4,3,1,1,5,1,11,32,2,1,1,1,1,1,24,5,2,1,2,1,1,1,5,1,20,1,1,1,1,1,1,7,7,19,1,1,7,21,1,20,1,1,8,14,1,9,1,1,1,1,2,2,4,2,1,3,12,2,1,9,5,2,5,7,1,1,1,1,14,2,4,26,78,31,8,10,1,16,2,4,9,8,8,7,2,2,5,1,1,5,1,1,1,2,1,1,1,1,6,4,2,1,1,1,1,1,1,3,1,1,1,2,1,7,2,3,1,3,1,1,1,2,2,1,1,1,2,1,1,1,1,4,1,4,1,1,1,1,2,2,2,1,1,1,2,4,1,2,6,2,1,2,1,2,1,2,3,2,2,1,3,12,4,3,1,5,50,6,2,2,3,36,5,2,2,2,2,2,2,14,7,2,2,3,3,1,2,2,1,4,2,2,5,3,2,1,1,2,2,2,1,1,4,1,1,1,2,1,2,1,1,32,2,2,1,1,2,16,2,1,1,1,1,1,1,12,3,2,2,1,1,2,1,1,2,4,2,1,4,7,1,1,1,1,2,1,1,16,1,1,1,1,1,1,1,1,3,1,8,4,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,4,2,2,2,2,2,1,1,1,1,1,2,4,4,7,3,2,3,1,3,1,1,3,4,3,1,1,1,28,116,2,2,67,177,13,18,45,10,2,2,1,1,150,1,1],"width":[7.33353589168972,4.82779584325033,1.92181205567281,0.480453013918201,0,0,0,0,0,0,0.480453013918201,0,0.480453013918201,0.480453013918201,30.6620707846977,1.92181205567281,0.480453013918201,12.4352185495712,25.88363647027,16.4871974418953,0.480453013918201,0.480453013918201,6.96462358899602,1.20694896081258,1.20694896081258,0.480453013918201,7.33353589168972,0,0,0.480453013918201,0.480453013918201,0.480453013918201,0,0.480453013918201,20.8332744129557,7.68724822269122,0.480453013918201,0.480453013918201,0.480453013918201,1.92181205567281,1.20694896081258,0.480453013918201,0.480453013918201,0,0,0,1.92181205567281,1.20694896081258,0,0,2.59029039398023,0,5.74990173930877,12.011325347955,0.480453013918201,0,0,0,0,0,10.1000261485892,2.59029039398023,0.480453013918201,0,0.480453013918201,0,0,0,2.59029039398023,0,8.97441185481296,0,0,0,0,0,0,3.78656630819647,3.78656630819647,8.66972090203471,0,0,3.78656630819647,9.26911687380137,0,8.97441185481296,0,0,4.32407712526381,6.96462358899602,0,4.82779584325033,0,0,0,0,0.480453013918201,0.480453013918201,1.92181205567281,0.480453013918201,0,1.20694896081258,6.17476105816062,0.480453013918201,0,4.82779584325033,2.59029039398023,0.480453013918201,2.59029039398023,3.78656630819647,0,0,0,0,6.96462358899602,0.480453013918201,1.92181205567281,10.6151930510676,18.980911800555,11.7922681205677,4.32407712526381,5.3018981104784,0,7.68724822269122,0.480453013918201,1.92181205567281,4.82779584325033,4.32407712526381,4.32407712526381,3.78656630819647,0.480453013918201,0.480453013918201,2.59029039398023,0,0,2.59029039398023,0,0,0,0.480453013918201,0,0,0,0,3.2104019955684,1.92181205567281,0.480453013918201,0,0,0,0,0,0,1.20694896081258,0,0,0,0.480453013918201,0,3.78656630819647,0.480453013918201,1.20694896081258,0,1.20694896081258,0,0,0,0.480453013918201,0.480453013918201,0,0,0,0.480453013918201,0,0,0,0,1.92181205567281,0,1.92181205567281,0,0,0,0,0.480453013918201,0.480453013918201,0.480453013918201,0,0,0,0.480453013918201,1.92181205567281,0,0.480453013918201,3.2104019955684,0.480453013918201,0,0.480453013918201,0,0.480453013918201,0,0.480453013918201,1.20694896081258,0.480453013918201,0.480453013918201,0,1.20694896081258,6.17476105816062,1.92181205567281,1.20694896081258,0,2.59029039398023,15.3039239949991,3.2104019955684,0.480453013918201,0.480453013918201,1.20694896081258,12.8416079822736,2.59029039398023,0.480453013918201,0.480453013918201,0.480453013918201,0.480453013918201,0.480453013918201,0.480453013918201,6.96462358899602,3.78656630819647,0.480453013918201,0.480453013918201,1.20694896081258,1.20694896081258,0,0.480453013918201,0.480453013918201,0,1.92181205567281,0.480453013918201,0.480453013918201,2.59029039398023,1.20694896081258,0.480453013918201,0,0,0.480453013918201,0.480453013918201,0.480453013918201,0,0,1.92181205567281,0,0,0,0.480453013918201,0,0.480453013918201,0,0,12.011325347955,0.480453013918201,0.480453013918201,0,0,0.480453013918201,7.68724822269122,0.480453013918201,0,0,0,0,0,0,6.17476105816062,1.20694896081258,0.480453013918201,0.480453013918201,0,0,0.480453013918201,0,0,0.480453013918201,1.92181205567281,0.480453013918201,0,1.92181205567281,3.78656630819647,0,0,0,0,0.480453013918201,0,0,7.68724822269122,0,0,0,0,0,0,0,0,1.20694896081258,0,4.32407712526381,1.92181205567281,0,0,0.480453013918201,0.480453013918201,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.480453013918201,0,0.480453013918201,1.92181205567281,0.480453013918201,0.480453013918201,0.480453013918201,0.480453013918201,0.480453013918201,0,0,0,0,0,0.480453013918201,1.92181205567281,1.92181205567281,3.78656630819647,1.20694896081258,0.480453013918201,1.20694896081258,0,1.20694896081258,0,0,1.20694896081258,1.92181205567281,1.20694896081258,0,0,0,11.103586897632,22.5966197049826,0.480453013918201,0.480453013918201,17.6794400235609,26.7925260540241,6.57896520634235,8.35424889884376,14.4906793110244,5.3018981104784,0.480453013918201,0.480453013918201,0,0,25.1064660504431,0,0]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"to","smooth":{"enabled":true,"type":"curvedCW"}},"physics":{"stabilization":false},"groups":{"irregular":{"color":"orange"},"useDefaultGroups":true,"other":{"color":"green"}},"layout":{"randomSeed":123}},"groups":["other","irregular"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"group","main":"Select by group","values":["irregular","other"]},"main":{"text":"Overall Business pattern","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Although there are irregular companies that both receive and send out shipments to others, it is noteworthy that these companies exhibit higher weights in the sending out edges, which suggests their potential roles as fishers. Besides, some irregular companies send out shipments to the same receiving companies, indicating a potential pattern of collaboration among these entities.</p>
</section>
</section>
<section id="high-inout-degree-company" class="level1">
<h1>High in/out degree company</h1>
<ul>
<li><p>To calculate the out-degree/in-degree, we count the total number of unique companies to which each company sends out shipments or from which it receives shipments.</p></li>
<li><p>We then select the top 7 companies (same number of companies as the previous irregular pattern) with the highest out-degree/in-degree to analyze their business patterns and relationships.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>edges_out <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(source, target) <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source) <span class="sc">%&gt;%</span> </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Weight =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>edges_in <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(target, source) <span class="sc">%&gt;%</span> </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(target) <span class="sc">%&gt;%</span> </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Weight =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>top_in <span class="ot">&lt;-</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(edges_in[<span class="fu">order</span>(edges_in<span class="sc">$</span>Weight, </span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="at">decreasing =</span> T),],<span class="at">n=</span><span class="dv">7</span>)</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>top_out <span class="ot">&lt;-</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(edges_out[<span class="fu">order</span>(edges_out<span class="sc">$</span>Weight, </span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="at">decreasing =</span> T),],<span class="at">n=</span><span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="temporal-pattern-1" class="level2">
<h2 class="anchored" data-anchor-id="temporal-pattern-1">Temporal pattern</h2>
<p>Comparing with the temporal pattern of top 7 companies with most out-degree of shipments, we can find that there are no interruption of shipment records throughout 2028 to 2034 , showing more stable and regular business pattern.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>MC2_node_normal <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> top_out<span class="sc">$</span>source) <span class="sc">%&gt;%</span>  </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source,Year) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Weight =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>g_1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(MC2_node_normal, <span class="fu">aes</span>(Year,source)) <span class="sc">+</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Weight)) <span class="sc">+</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> Weight),<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Top company by weight"</span>)<span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"lightblue"</span>)<span class="sc">+</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adjust angle to be 45 to avoid overlapping</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)) </span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>MC2_node_regular <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> top_out<span class="sc">$</span>source) <span class="sc">%&gt;%</span>  </span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target,Year) <span class="sc">%&gt;%</span> </span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source,Year) <span class="sc">%&gt;%</span> </span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Weight =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>g_2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(MC2_node_regular, <span class="fu">aes</span>(Year,source)) <span class="sc">+</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Weight)) <span class="sc">+</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> Weight),<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Top company by out-degree"</span>)<span class="sc">+</span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"lightblue"</span>)<span class="sc">+</span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adjust angle to be 45 to avoid overlapping</span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>))<span class="sc">+</span></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Out-Degree Connections"</span>)</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(g_1, g_2, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="business-network" class="level2">
<h2 class="anchored" data-anchor-id="business-network">Business network</h2>
<ul>
<li>Select edges include source of top out-degree companies and top in-degree companies, to see whether there are interconnected relationships of these companies.</li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>top_edge <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(target <span class="sc">%in%</span> top_in<span class="sc">$</span>target) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> top_out<span class="sc">$</span>source) <span class="sc">%&gt;%</span> </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source,target,Year) <span class="sc">%&gt;%</span> </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>(),<span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> source) <span class="sc">%&gt;%</span> </span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">to =</span> target)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>id1 <span class="ot">&lt;-</span> top_edge <span class="sc">%&gt;%</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(from) <span class="sc">%&gt;%</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> from)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>id2 <span class="ot">&lt;-</span> top_edge <span class="sc">%&gt;%</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(to) <span class="sc">%&gt;%</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> to)</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>node <span class="ot">&lt;-</span> <span class="fu">rbind</span>(id1, id2) <span class="sc">%&gt;%</span> </span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">ifelse</span>(id <span class="sc">%in%</span> top_out<span class="sc">$</span>source, <span class="st">"fisher"</span>, <span class="st">"wholeseller"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We observe that the almost all fishers send shipments to all the top receivers (wholesalers), but there is one fisher does not have any relationship with any of these companies, so only six fishers appear in the graph.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(node,</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>           top_edge) <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_nicely"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">selectedBy=</span><span class="st">"group"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-70f3397a14a1f9cb3b3a" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-70f3397a14a1f9cb3b3a">{"x":{"nodes":{"id":["Barents Sea Cod CJSC Export","Caracola del Este Corporation Express","Chhattisgarh   Marine ecology A/S Delivery","Estrella del Mar Seafarer","Fresh Limited Liability Company","Zambezi Gorge  N.V. Transport","Caracola del Sol Services","Coral Cove BV Delivery","Costa de la Felicidad Shipping","Mar del Este CJSC","Pao gan SE Seal","Sailors and Surfers Incorporated Enterprises","hǎi dǎn Corporation Wharf"],"group":["fisher","fisher","fisher","fisher","fisher","fisher","wholeseller","wholeseller","wholeseller","wholeseller","wholeseller","wholeseller","wholeseller"],"x":[-0.475142185451313,-0.55714418364834,1,-0.043178724730176,-0.25930444628217,-0.360971991560357,0.207742215957269,-0.229169213077656,0.029431751350405,-1,-0.851283160777273,-0.385964442962296,0.301136246263466],"y":[-0.427213735153765,-0.00793550496626427,-0.756650438928233,0.295033561765661,-0.10295687156747,0.366693769457607,-0.361326646426861,1,-0.828440917821905,-0.0788285748750627,0.722104684638608,-1,0.239263117124475],"label":["Barents Sea Cod CJSC Export","Caracola del Este Corporation Express","Chhattisgarh   Marine ecology A/S Delivery","Estrella del Mar Seafarer","Fresh Limited Liability Company","Zambezi Gorge  N.V. Transport","Caracola del Sol Services","Coral Cove BV Delivery","Costa de la Felicidad Shipping","Mar del Este CJSC","Pao gan SE Seal","Sailors and Surfers Incorporated Enterprises","hǎi dǎn Corporation Wharf"]},"edges":{"from":["Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Barents Sea Cod CJSC Export","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport"],"to":["Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Caracola del Sol Services","Caracola del Sol Services","Coral Cove BV Delivery","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Sailors and Surfers Incorporated Enterprises","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Caracola del Sol Services","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Mar del Este CJSC","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Pao gan SE Seal","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf"],"Year":["2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2030","2031","2030","2028","2030","2031","2032","2029","2030","2034","2028","2029","2030","2031","2032","2033","2034","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2029","2030","2032","2033","2034","2028","2029","2030","2031","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034","2028","2029","2030","2031","2032","2033","2034"],"weight":[78,95,187,76,192,125,87,77,247,389,798,986,1021,348,76,43,61,51,55,98,65,3,17,11,4,10,35,15,52,30,28,34,53,19,5,329,319,286,520,635,345,81,185,339,443,521,636,412,135,115,423,477,554,563,601,656,296,245,130,157,187,140,149,65,80,40,67,59,52,38,141,91,30,54,23,106,103,21,7,57,65,16,9,14,23,20,42,43,25,39,75,1771,1860,1758,2022,2310,2441,2068,2,1,1,4,1,2,1,2,1,1,2,51,50,18,13,26,34,2,7,2,11,32,8,2,12,21,11,3,11,10,13,20,1,4,1,5,4,4,1,1,4,3,12,11,8,64,10,126,156,79,61,111,87,434,383,398,457,261,299,177,756,687,690,370,329,289,344,546,785,593,481,364,374,299,144,224,223,200,190,104,55,285,372,240,185,174,147,120,226,271,513,356,324,310,398,1642,2022,1679,1505,1170,1279,1258,289,345,208,93,161,204,263,104,116,207,147,139,124,111,151,321,258,134,252,229,311,42,91,49,33,80,20,13,238,128,126,103,254,131,174,115,135,77,57,123,134,148,813,1090,852,457,747,1092,935]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123}},"groups":["fisher","wholeseller"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"group","main":"Select by group","values":["fisher","wholeseller"]},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="filter-by-hscode" class="level2">
<h2 class="anchored" data-anchor-id="filter-by-hscode">Filter by hscode</h2>
<p>Filter the companies that either appearing in source and target, and other companies having relationships with them. Then filter hscode of 401120, that the company with the most out-degree has the most weight.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> MC2_edges <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(target <span class="sc">%in%</span> top_in<span class="sc">$</span>target <span class="sc">|</span> source <span class="sc">%in%</span> top_out<span class="sc">$</span>source) <span class="sc">%&gt;%</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source,target,Year,hscode) <span class="sc">%&gt;%</span> </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter the hscode with the most weight</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>(),<span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(hscode <span class="sc">==</span> <span class="dv">401120</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> source) <span class="sc">%&gt;%</span> </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">to =</span> target)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>id1 <span class="ot">&lt;-</span> edges <span class="sc">%&gt;%</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(from) <span class="sc">%&gt;%</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> from)</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>id2 <span class="ot">&lt;-</span> edges <span class="sc">%&gt;%</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(to) <span class="sc">%&gt;%</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> to)</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>top_nodes <span class="ot">&lt;-</span> <span class="fu">rbind</span>(id1, id2) <span class="sc">%&gt;%</span> </span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">case_when</span>(</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>    id <span class="sc">%in%</span> top_out<span class="sc">$</span>source <span class="sc">~</span> <span class="st">"top fisher"</span>,</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>    id <span class="sc">%in%</span> top_in<span class="sc">$</span>target <span class="sc">~</span> <span class="st">"top wholeseller"</span>,</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"others"</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(top_nodes, edges, <span class="at">height=</span><span class="st">'350px'</span>, <span class="at">width=</span><span class="st">"100%"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>   <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed=</span><span class="dv">21</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>(<span class="at">width=</span><span class="fl">0.1</span>, <span class="at">position=</span><span class="st">"right"</span>, <span class="at">main=</span><span class="st">"Group"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">highlightNearest=</span><span class="cn">TRUE</span>,</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection=</span><span class="cn">TRUE</span>,</span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">selectedBy=</span><span class="st">"group"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="htmlwidget-f30be0b86af3b51554c7" style="width:100%;height:350px;" class="visNetwork html-widget "></div>
<script type="application/json" data-for="htmlwidget-f30be0b86af3b51554c7">{"x":{"nodes":{"id":["Ancla del Este SE","Arena del Mar Tidal Oyj Carriers","Arunachal Pradesh s A/S Transport","Arunachal Pradesh s Kga","Assam   Limited Liability Company","Atlantic Ocean Coast  CJSC","Balkan Anchovy S.A. de C.V. Delivery","Baltic Catch Jetsam Pic Brothers","Banded tilapia Sextant Pic Marine life","Black Sea Carp & GmbH & Co. KG Shipping","Caracola del Este Corporation Express","Caracola del Sol S.A. de C.V.","Chhattisgarh   Marine ecology A/S Delivery","Coastal Castaway Co Consultants","Coastal Cruisers Pic Shipping","Coral Rojo Transit Krill","Danish Shrimp Corporation United","Dry Creek SE Import","Estrella del Mar Seafarer","Fresh Limited Liability Company","Icelandic Cod Pier ОАО Transport","Irish Sea  AG Logistics","Isla del Tesoro BV","Italian Anchovy Corporation International","Kagera River   AS Marine conservation","Lake Motoso  Sagl Brothers","Lake Victoria Nile    LLC Transportation","Mar de Cristalino Corporation","Mar del Caribe Inc and Son's","Mar del Este Import","Mar del Este Sp","Mar y Luna Sagl","Marine Mates Kga Worldwide","Matthew Oyj Marine sanctuary","Niger River Delta  America Limited Liability Company Delivery","Norwegian Fjord  Fish  GmbH Distribution","Oceanic Oasis Co Transit","Ola del Mar NV","Olas del Mar Worldwide","Playa de Arena LC","Rajasthan  S.p.A. Marine life","Saharan Coast  CJSC Snapper","Saltwater Sanctuary Marine ecology","Surf and Sea Seal Ltd Forwading","Tamil Nadu  Market Co","Tide Turners Transport Sextant","Uttar Pradesh s CJSC","Vespuci Creek CJSC Freight ","Yu er he  N.V.","Yu xian  LLC Aqua","Zambezi Gorge  N.V. Transport","bái suō wěn lú AS","Caracola del Sol Services","hǎi dǎn Corporation Wharf","Gulf of Guinea   Enterprises","Coral Cove BV Delivery","Sailors and Surfers Incorporated Enterprises","Costa de la Felicidad Shipping","Mar del Este CJSC","Haryana s Sagl Transport","Náutica del Sol Corporation","Ocean Outfitters Ges.m.b.H. Dredge","Sahara  LLC Co Consultants","Togo  S.A. de C.V.","Uttarakhand  Market Limited Liability Company Nautical","Adriatic Tuna Seabass BV Transit","Bihar   CJSC & Son's","Faroe Islands  Ltd Brothers","Kong zhong diao yu  AG Transport","Mar de Plata GmbH Enterprises","Mar de la Costa Company","Mar de la Vida GmbH","Pao gan SE Seal","Balkan Pike GmbH Transit","Caracola del Este Sp","Congo River  Marine conservation Seaside","Coral Kingdom GmbH Delivery","Lake Mweru  Sp Consulting","Marine Magic Sp Import","-16770","-729","3 Oceanography ОАО Marine life","Congo Rapids   Ltd. Corporation","Costa del Sol N.V.","French Hake Cargo ship Sagl Services","Kong zhong diao yu  Ges.m.b.H.","Limited Liability Company GmbH","Mar de Plata N.V.","Mar de la Vida Incorporated","Océano Azul GmbH & Co. KG & Son's","Portuguese Tuna Bonito Kga Consultants","SeaTree Ltd. Liability Co Holdings","Spanish Red Snapper CJSC Transport","Zambezi Escarpment  Ltd Breakwater","3 Ocean CJSC Freight ","Arunachal  Dashi Inc Worldwide","Arunachal Pradesh s Brine","Arunachal Pradesh s SRL","Black Sea Tuna Sagl","Cameroon Estuary  Co Investment","Fisherman's Best Marine conservation","Lake Kariba   Ltd Shipping","Lake Tana  Incorporated Solutions","Nagaland Sea  N.V. Transit","Ocean Quest Oyj Tsunami","Saltwater Supreme ОАО Forwading","Seashell Seekers ОАО International","Tamil  Nautilus CJSC Consulting","Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants","Uttarakhand  Market Ltd. Corporation","Water World S.A. de C.V. Cargo"],"group":["others","others","top fisher","others","others","others","others","others","others","others","top fisher","others","top fisher","others","others","others","others","others","top fisher","top fisher","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","top fisher","others","top wholeseller","top wholeseller","others","top wholeseller","top wholeseller","top wholeseller","top wholeseller","others","others","others","others","others","others","others","others","others","others","others","others","others","top wholeseller","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others","others"],"label":["Ancla del Este SE","Arena del Mar Tidal Oyj Carriers","Arunachal Pradesh s A/S Transport","Arunachal Pradesh s Kga","Assam   Limited Liability Company","Atlantic Ocean Coast  CJSC","Balkan Anchovy S.A. de C.V. Delivery","Baltic Catch Jetsam Pic Brothers","Banded tilapia Sextant Pic Marine life","Black Sea Carp & GmbH & Co. KG Shipping","Caracola del Este Corporation Express","Caracola del Sol S.A. de C.V.","Chhattisgarh   Marine ecology A/S Delivery","Coastal Castaway Co Consultants","Coastal Cruisers Pic Shipping","Coral Rojo Transit Krill","Danish Shrimp Corporation United","Dry Creek SE Import","Estrella del Mar Seafarer","Fresh Limited Liability Company","Icelandic Cod Pier ОАО Transport","Irish Sea  AG Logistics","Isla del Tesoro BV","Italian Anchovy Corporation International","Kagera River   AS Marine conservation","Lake Motoso  Sagl Brothers","Lake Victoria Nile    LLC Transportation","Mar de Cristalino Corporation","Mar del Caribe Inc and Son's","Mar del Este Import","Mar del Este Sp","Mar y Luna Sagl","Marine Mates Kga Worldwide","Matthew Oyj Marine sanctuary","Niger River Delta  America Limited Liability Company Delivery","Norwegian Fjord  Fish  GmbH Distribution","Oceanic Oasis Co Transit","Ola del Mar NV","Olas del Mar Worldwide","Playa de Arena LC","Rajasthan  S.p.A. Marine life","Saharan Coast  CJSC Snapper","Saltwater Sanctuary Marine ecology","Surf and Sea Seal Ltd Forwading","Tamil Nadu  Market Co","Tide Turners Transport Sextant","Uttar Pradesh s CJSC","Vespuci Creek CJSC Freight ","Yu er he  N.V.","Yu xian  LLC Aqua","Zambezi Gorge  N.V. Transport","bái suō wěn lú AS","Caracola del Sol Services","hǎi dǎn Corporation Wharf","Gulf of Guinea   Enterprises","Coral Cove BV Delivery","Sailors and Surfers Incorporated Enterprises","Costa de la Felicidad Shipping","Mar del Este CJSC","Haryana s Sagl Transport","Náutica del Sol Corporation","Ocean Outfitters Ges.m.b.H. Dredge","Sahara  LLC Co Consultants","Togo  S.A. de C.V.","Uttarakhand  Market Limited Liability Company Nautical","Adriatic Tuna Seabass BV Transit","Bihar   CJSC & Son's","Faroe Islands  Ltd Brothers","Kong zhong diao yu  AG Transport","Mar de Plata GmbH Enterprises","Mar de la Costa Company","Mar de la Vida GmbH","Pao gan SE Seal","Balkan Pike GmbH Transit","Caracola del Este Sp","Congo River  Marine conservation Seaside","Coral Kingdom GmbH Delivery","Lake Mweru  Sp Consulting","Marine Magic Sp Import","-16770","-729","3 Oceanography ОАО Marine life","Congo Rapids   Ltd. Corporation","Costa del Sol N.V.","French Hake Cargo ship Sagl Services","Kong zhong diao yu  Ges.m.b.H.","Limited Liability Company GmbH","Mar de Plata N.V.","Mar de la Vida Incorporated","Océano Azul GmbH & Co. KG & Son's","Portuguese Tuna Bonito Kga Consultants","SeaTree Ltd. Liability Co Holdings","Spanish Red Snapper CJSC Transport","Zambezi Escarpment  Ltd Breakwater","3 Ocean CJSC Freight ","Arunachal  Dashi Inc Worldwide","Arunachal Pradesh s Brine","Arunachal Pradesh s SRL","Black Sea Tuna Sagl","Cameroon Estuary  Co Investment","Fisherman's Best Marine conservation","Lake Kariba   Ltd Shipping","Lake Tana  Incorporated Solutions","Nagaland Sea  N.V. Transit","Ocean Quest Oyj Tsunami","Saltwater Supreme ОАО Forwading","Seashell Seekers ОАО International","Tamil  Nautilus CJSC Consulting","Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants","Uttarakhand  Market Ltd. Corporation","Water World S.A. de C.V. Cargo"]},"edges":{"from":["Ancla del Este SE","Arena del Mar Tidal Oyj Carriers","Arunachal Pradesh s A/S Transport","Arunachal Pradesh s A/S Transport","Arunachal Pradesh s Kga","Assam   Limited Liability Company","Atlantic Ocean Coast  CJSC","Atlantic Ocean Coast  CJSC","Atlantic Ocean Coast  CJSC","Atlantic Ocean Coast  CJSC","Atlantic Ocean Coast  CJSC","Atlantic Ocean Coast  CJSC","Atlantic Ocean Coast  CJSC","Atlantic Ocean Coast  CJSC","Balkan Anchovy S.A. de C.V. Delivery","Baltic Catch Jetsam Pic Brothers","Banded tilapia Sextant Pic Marine life","Banded tilapia Sextant Pic Marine life","Black Sea Carp & GmbH & Co. KG Shipping","Black Sea Carp & GmbH & Co. KG Shipping","Black Sea Carp & GmbH & Co. KG Shipping","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Este Corporation Express","Caracola del Sol S.A. de C.V.","Caracola del Sol S.A. de C.V.","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Coastal Castaway Co Consultants","Coastal Cruisers Pic Shipping","Coral Rojo Transit Krill","Danish Shrimp Corporation United","Dry Creek SE Import","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Estrella del Mar Seafarer","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Fresh Limited Liability Company","Icelandic Cod Pier ОАО Transport","Irish Sea  AG Logistics","Isla del Tesoro BV","Italian Anchovy Corporation International","Kagera River   AS Marine conservation","Lake Motoso  Sagl Brothers","Lake Victoria Nile    LLC Transportation","Mar de Cristalino Corporation","Mar de Cristalino Corporation","Mar del Caribe Inc and Son's","Mar del Caribe Inc and Son's","Mar del Este Import","Mar del Este Import","Mar del Este Sp","Mar del Este Sp","Mar del Este Sp","Mar del Este Sp","Mar del Este Sp","Mar del Este Sp","Mar del Este Sp","Mar y Luna Sagl","Mar y Luna Sagl","Mar y Luna Sagl","Mar y Luna Sagl","Marine Mates Kga Worldwide","Matthew Oyj Marine sanctuary","Matthew Oyj Marine sanctuary","Niger River Delta  America Limited Liability Company Delivery","Norwegian Fjord  Fish  GmbH Distribution","Oceanic Oasis Co Transit","Oceanic Oasis Co Transit","Oceanic Oasis Co Transit","Ola del Mar NV","Olas del Mar Worldwide","Playa de Arena LC","Rajasthan  S.p.A. Marine life","Saharan Coast  CJSC Snapper","Saltwater Sanctuary Marine ecology","Surf and Sea Seal Ltd Forwading","Surf and Sea Seal Ltd Forwading","Surf and Sea Seal Ltd Forwading","Surf and Sea Seal Ltd Forwading","Tamil Nadu  Market Co","Tamil Nadu  Market Co","Tide Turners Transport Sextant","Uttar Pradesh s CJSC","Vespuci Creek CJSC Freight ","Vespuci Creek CJSC Freight ","Vespuci Creek CJSC Freight ","Yu er he  N.V.","Yu xian  LLC Aqua","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","Zambezi Gorge  N.V. Transport","bái suō wěn lú AS"],"to":["Caracola del Sol Services","hǎi dǎn Corporation Wharf","Arunachal Pradesh s A/S Transport","Gulf of Guinea   Enterprises","Coral Cove BV Delivery","hǎi dǎn Corporation Wharf","Sailors and Surfers Incorporated Enterprises","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Coral Cove BV Delivery","Costa de la Felicidad Shipping","Mar del Este CJSC","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Haryana s Sagl Transport","Náutica del Sol Corporation","Ocean Outfitters Ges.m.b.H. Dredge","Ocean Outfitters Ges.m.b.H. Dredge","Sahara  LLC Co Consultants","Togo  S.A. de C.V.","Togo  S.A. de C.V.","Togo  S.A. de C.V.","Uttarakhand  Market Limited Liability Company Nautical","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Adriatic Tuna Seabass BV Transit","Bihar   CJSC & Son's","Chhattisgarh   Marine ecology A/S Delivery","Chhattisgarh   Marine ecology A/S Delivery","Faroe Islands  Ltd Brothers","Kong zhong diao yu  AG Transport","Mar de Plata GmbH Enterprises","Mar de Plata GmbH Enterprises","Mar de Plata GmbH Enterprises","Mar de la Costa Company","Mar de la Costa Company","Mar de la Costa Company","Mar de la Costa Company","Mar de la Costa Company","Mar de la Costa Company","Mar de la Vida GmbH","Pao gan SE Seal","Caracola del Sol Services","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Caracola del Sol Services","Balkan Pike GmbH Transit","Caracola del Este Sp","Congo River  Marine conservation Seaside","Coral Kingdom GmbH Delivery","Lake Mweru  Sp Consulting","Marine Magic Sp Import","-16770","-729","-729","-729","3 Oceanography ОАО Marine life","Congo Rapids   Ltd. Corporation","Congo Rapids   Ltd. Corporation","Congo Rapids   Ltd. Corporation","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","Costa del Sol N.V.","Costa del Sol N.V.","Costa del Sol N.V.","French Hake Cargo ship Sagl Services","Kong zhong diao yu  Ges.m.b.H.","Kong zhong diao yu  Ges.m.b.H.","Kong zhong diao yu  Ges.m.b.H.","Limited Liability Company GmbH","Mar de Plata N.V.","Mar de Plata N.V.","Mar de Plata N.V.","Mar de la Vida Incorporated","Mar de la Vida Incorporated","Océano Azul GmbH & Co. KG & Son's","Océano Azul GmbH & Co. KG & Son's","Portuguese Tuna Bonito Kga Consultants","SeaTree Ltd. Liability Co Holdings","SeaTree Ltd. Liability Co Holdings","Spanish Red Snapper CJSC Transport","Zambezi Escarpment  Ltd Breakwater","Zambezi Escarpment  Ltd Breakwater","Zambezi Escarpment  Ltd Breakwater","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Sailors and Surfers Incorporated Enterprises","Mar del Este CJSC","Coral Cove BV Delivery","Coral Cove BV Delivery","hǎi dǎn Corporation Wharf","Mar del Este CJSC","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Sailors and Surfers Incorporated Enterprises","hǎi dǎn Corporation Wharf","Pao gan SE Seal","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Costa de la Felicidad Shipping","Costa de la Felicidad Shipping","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Caracola del Sol Services","Mar del Este CJSC","Mar del Este CJSC","Pao gan SE Seal","Pao gan SE Seal","Coral Cove BV Delivery","Coral Cove BV Delivery","Coral Cove BV Delivery","hǎi dǎn Corporation Wharf","Pao gan SE Seal","Caracola del Sol Services","hǎi dǎn Corporation Wharf","Mar del Este CJSC","hǎi dǎn Corporation Wharf","Coral Cove BV Delivery","Coral Cove BV Delivery","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Mar del Este CJSC","Pao gan SE Seal","Caracola del Sol Services","hǎi dǎn Corporation Wharf","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Sailors and Surfers Incorporated Enterprises","Mar del Este CJSC","Caracola del Sol Services","3 Ocean CJSC Freight ","Arunachal  Dashi Inc Worldwide","Arunachal  Dashi Inc Worldwide","Arunachal  Dashi Inc Worldwide","Arunachal Pradesh s Brine","Arunachal Pradesh s SRL","Black Sea Tuna Sagl","Black Sea Tuna Sagl","Cameroon Estuary  Co Investment","Caracola del Sol Services","Coral Cove BV Delivery","Fisherman's Best Marine conservation","Lake Kariba   Ltd Shipping","Lake Tana  Incorporated Solutions","Mar de la Vida Incorporated","Nagaland Sea  N.V. Transit","Ocean Quest Oyj Tsunami","Saltwater Supreme ОАО Forwading","Saltwater Supreme ОАО Forwading","Seashell Seekers ОАО International","Tamil  Nautilus CJSC Consulting","Uttar Pradesh Sea  Tidal Ltd. Liability Co Merchants","Uttarakhand  Market Ltd. Corporation","Water World S.A. de C.V. Cargo","Water World S.A. de C.V. Cargo","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","hǎi dǎn Corporation Wharf","Costa de la Felicidad Shipping"],"Year":["2030","2028","2033","2034","2031","2029","2033","2028","2029","2030","2031","2032","2033","2034","2028","2032","2034","2034","2028","2029","2030","2033","2033","2033","2034","2028","2029","2030","2032","2031","2029","2031","2033","2034","2030","2031","2028","2032","2028","2031","2029","2029","2029","2030","2033","2028","2029","2030","2031","2032","2033","2029","2028","2033","2032","2030","2034","2033","2032","2032","2032","2028","2034","2034","2032","2033","2034","2032","2030","2033","2034","2030","2031","2032","2032","2033","2034","2032","2032","2033","2034","2034","2032","2033","2034","2031","2032","2033","2034","2034","2033","2034","2034","2032","2033","2034","2032","2033","2034","2033","2028","2034","2032","2032","2030","2034","2032","2033","2030","2031","2034","2034","2028","2028","2029","2030","2031","2032","2034","2029","2030","2028","2030","2030","2029","2030","2031","2029","2032","2033","2034","2029","2030","2032","2031","2029","2028","2031","2033","2032","2034","2034","2034","2028","2033","2030","2031","2034","2029","2028","2033","2031","2032","2033","2032","2033","2028","2032","2028","2030","2033","2028","2028","2034","2033","2033","2028","2029","2031","2034","2034","2029","2028","2032","2033","2028","2029","2030","2029"],"hscode":["401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120","401120"],"weight":[6,1,8,1,2,1,6,53,20,50,28,22,22,19,1,1,2,1,1,4,4,1,1,1,1,1,2,1,1,1,1,1,1,1,6,1,1,1,1,1,1,1,1,3,1,1,1,3,3,6,2,1,1,1,1,1,1,1,1,1,3,2,1,1,240,472,97,2,1,3,4,1,1,1,75,170,1,1,1,1,1,2,2,13,7,1,3,1,1,1,1,1,1,21,1,2,33,41,9,1,1,2,1,6,3,1,1,2,3,6,20,7,1,10,4,2,1,2,5,2,2,1,2,1,2,3,2,1,3,5,4,1,1,1,1,1,4,5,1,1,1,4,7,2,1,1,1,1,1,1,1,1,4,1,1,2,1,1,1,5,3,1,1,2,1,1,2,1,1,1,1,1,1,1,2,2,1,2,1]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"edges":{"arrows":"to"},"layout":{"randomSeed":21}},"groups":["others","top fisher","top wholeseller"],"width":"100%","height":"350px","idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"group","main":"Select by group","values":["others","top fisher","top wholeseller"]},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","legend":{"width":0.1,"useGroups":true,"position":"right","ncol":1,"stepX":100,"stepY":100,"zoom":true,"main":{"text":"Group","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:14px;text-align:center;"}},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>In the main clusters, the prominent fishers are associated with the same wholesalers, while the leading wholesalers all maintain connections with the main clusters.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>